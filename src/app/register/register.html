<!DOCTYPE html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Registro</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
  />
  <link rel="stylesheet" href="../../styles.css" />
  <link rel="icon" href="/icon/icon.png" />
</head>
<body>
  <div class="container">
    <div class="form-content">
      <h2 class="titulo-form">Registro de Usuario</h2>

      <form
        [formGroup]="registerForm"
        (ngSubmit)="onSubmit()"
        class="form-section register-section"
      >
        <!-- Nombre de usuario -->
        <div class="input-field">
          <i class="fa-solid fa-user"></i>
          <input type="text" placeholder="Nombre de usuario" formControlName="username" />
        </div>
        <div
          *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched"
          class="input-error"
        >
          <small *ngIf="registerForm.get('username')?.errors?.['required']"
            >El nombre es obligatorio</small
          >
          <small *ngIf="registerForm.get('username')?.errors?.['minlength']"
            >Mínimo 3 caracteres</small
          >
        </div>

        <!-- Email -->
        <div class="input-field">
          <i class="fa-solid fa-envelope"></i>
          <input type="email" placeholder="Correo electrónico" formControlName="email" />
        </div>
        <div
          *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
          class="input-error"
        >
          <small *ngIf="registerForm.get('email')?.errors?.['required']"
            >El email es obligatorio</small
          >
          <small *ngIf="registerForm.get('email')?.errors?.['email']"
            >Formato de email inválido</small
          >
        </div>

        <!-- Contraseña -->
        <div class="input-field">
          <i class="fa-solid fa-lock"></i>
          <input type="password" placeholder="Contraseña" formControlName="password" />
        </div>
        <div
          *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
          class="input-error"
        >
          <small *ngIf="registerForm.get('password')?.errors?.['required']"
            >La contraseña es obligatoria</small
          >
          <small *ngIf="registerForm.get('password')?.errors?.['minlength']"
            >Mínimo 6 caracteres</small
          >
          <small *ngIf="registerForm.get('password')?.errors?.['pattern']"
            >Solo letras, números y @ # _</small
          >
        </div>

        <!-- Confirmar Contraseña -->
        <div class="input-field">
          <i class="fa-solid fa-lock"></i>
          <input
            type="password"
            placeholder="Confirmar contraseña"
            formControlName="confirmPassword"
          />
        </div>
        <div
          *ngIf="registerForm.errors?.['mismatch'] && registerForm.get('confirmPassword')?.touched"
          class="input-error"
        >
          <small>Las contraseñas no coinciden</small>
        </div>

        <!-- Botón -->
        <div class="btn-field">
          <button type="submit" class="btn-register" [disabled]="registerForm.invalid">
            Registrarse
          </button>
        </div>
      </form>
    </div>
  </div>
</body>
